---
layout: post
title: extracting & preparing geographical data
---

```
	import re, os

	source = "/Volumes/euterpe/full/"
	source2 = "/Users/susanna/Documents/Studien/MA Zeitgeschichte & Medien/3.Sem/tools and techniques/places.csv"

	lof = os.listdir(source)
	counter = 0 

	lonlat = {}

	for f in lof:
	    if f.startswith("TGNOut_Full"): # fileName test

		print(source+f)     
		with open(source + f, "r", encoding="utf8") as f1:
		    text = f1.read()


		    tgn = re.findall(r'tgn,(\d+)', text).group(1)

		    with open(source2 + f, "r", encoding="utf8") as f2:
		    text2 = f2.read()


		    if tgn in source2:
					tgn += 1

			    for lon in tgn:
				lon = re.search(r'<____="(____)"', text).group(2)

			    for lat in tgn:
				lat = re.search(r'<____="(____)"', text).group(2)


					v = str(lon, lat)

	finalTable = []

	for k,v in lonlat.items():
		temp = str(k)+','+v
		finalTable.append(temp)

	with open("lonlat.csv", "w", encoding="utf8") as f9:
		f9.write("\n".join(finalTable))

 ```
 
 
 ![screenshot file tgn and frequencies][1]
 
 
 [1]: https://raw.githubusercontent.com/suszette/suszette.github.io/master/img/Bildschirmfoto%202020-01-13%20um%2012.14.08.png
 
 ```
	import re, os

	source = "/Volumes/euterpe/full/"
	source2 = "/Users/susanna/Documents/Studien/MA Zeitgeschichte & Medien/3.Sem/tools and techniques/places.csv"

	lof = os.listdir(source)
	counter = 0 

	lonlat = {}

	for f in lof:
	    if f.startswith("TGNOut_Full"): # fileName test

		print(source+f)     
		with open(source + f, "r", encoding="utf8") as f1:
		    text = f1.read()


		    tgn = re.findall(r'tgn,(\d+)', text).group(1)

		    with open(source2 + f, "r", encoding="utf8") as f2:
		    text2 = f2.read()


		    if tgn in source2:
					tgn += 1

			    for lon in tgn:
				lon = re.search(r'<____="(____)"', text).group(2)

			    for lat in tgn:
				lat = re.search(r'<____="(____)"', text).group(2)


					v = str(lon, lat)

	finalTable = []

	for k,v in lonlat.items():
		temp = str(k)+','+v
		finalTable.append(temp)

	with open("lonlat.csv", "w", encoding="utf8") as f9:
		f9.write("\n".join(finalTable))
            		
```
